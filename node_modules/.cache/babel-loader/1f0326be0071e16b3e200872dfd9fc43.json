{"ast":null,"code":"//Users/nic/Sites/manager/src/redux/HOC/getAction.js\nimport axios from 'axios';\nimport { API_ENDPOINT, apiCall } from '../constant';\nimport { requestData, requestFailed } from './'; // GET A SINGLE ITEM\n\nexport function getItem(actionType, id) {\n  return function (dispatch) {\n    dispatch(requestData(actionType));\n    axios.get(\"\".concat(API_ENDPOINT).concat(apiCall(actionType).endPoints.get_one, \"/\").concat(id), {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        'x-access-token': localStorage.getItem('token')\n      }\n    }).then(function (response) {\n      return response.data;\n    }).then(function (res) {\n      if (res.success) {\n        dispatch(setItem(actionType, res.payload));\n      } else {\n        dispatch(requestFailed(actionType));\n      }\n    });\n  };\n}\n\nfunction setItem(actionType, item) {\n  return {\n    type: \"GET\",\n    subtype: actionType,\n    isFetching: false,\n    item: item\n  };\n}","map":{"version":3,"sources":["/Users/nic/Sites/reuse-reducer/src/redux/high-order-component/getAction.js"],"names":["axios","API_ENDPOINT","apiCall","requestData","requestFailed","getItem","actionType","id","dispatch","get","endPoints","get_one","method","mode","headers","localStorage","then","response","data","res","success","setItem","payload","item","type","subtype","isFetching"],"mappings":"AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,EAAuBC,OAAvB,QAAsC,aAAtC;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA4C,IAA5C,C,CAGA;;AACA,OAAO,SAASC,OAAT,CAAkBC,UAAlB,EAA8BC,EAA9B,EAAkC;AAEvC,SAAO,UAAAC,QAAQ,EAAI;AAEjBA,IAAAA,QAAQ,CAACL,WAAW,CAACG,UAAD,CAAZ,CAAR;AAEAN,IAAAA,KAAK,CAACS,GAAN,WAAaR,YAAb,SAA4BC,OAAO,CAACI,UAAD,CAAP,CAAoBI,SAApB,CAA8BC,OAA1D,cAAqEJ,EAArE,GAA2E;AACzEK,MAAAA,MAAM,EAAE,KADiE;AAEzEC,MAAAA,IAAI,EAAE,MAFmE;AAGzEC,MAAAA,OAAO,EAAE;AACL,0BAAkBC,YAAY,CAACV,OAAb,CAAqB,OAArB;AADb;AAHgE,KAA3E,EAOCW,IAPD,CAOM,UAAUC,QAAV,EAAoB;AACtB,aAAOA,QAAQ,CAACC,IAAhB;AACH,KATD,EAUCF,IAVD,CAUO,UAAAG,GAAG,EAAI;AACV,UAAGA,GAAG,CAACC,OAAP,EAAe;AACbZ,QAAAA,QAAQ,CAACa,OAAO,CAACf,UAAD,EAAaa,GAAG,CAACG,OAAjB,CAAR,CAAR;AACD,OAFD,MAEK;AACDd,QAAAA,QAAQ,CAACJ,aAAa,CAACE,UAAD,CAAd,CAAR;AACH;AACJ,KAhBD;AAiBD,GArBD;AAsBD;;AAGD,SAASe,OAAT,CAAiBf,UAAjB,EAA6BiB,IAA7B,EAAmC;AACjC,SAAO;AACLC,IAAAA,IAAI,OADC;AAELC,IAAAA,OAAO,EAAEnB,UAFJ;AAGLoB,IAAAA,UAAU,EAAE,KAHP;AAILH,IAAAA,IAAI,EAAEA;AAJD,GAAP;AAMD","sourcesContent":["//Users/nic/Sites/manager/src/redux/HOC/getAction.js\n\nimport axios from 'axios';\nimport { API_ENDPOINT, apiCall } from '../constant'\nimport { requestData, requestFailed  } from './'\n\n\n// GET A SINGLE ITEM\nexport function getItem( actionType, id ){\n\n  return dispatch => {\n\n    dispatch(requestData(actionType))\n  \n    axios.get(`${API_ENDPOINT}${apiCall(actionType).endPoints.get_one}/${id}`, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n          'x-access-token': localStorage.getItem('token')\n      }\n    })\n    .then(function (response) { \n        return response.data\n    }) \n    .then( res => {\n        if(res.success){\n          dispatch(setItem(actionType, res.payload ))  \n        }else{\n            dispatch(requestFailed(actionType))\n        }\n    })           \n  }\n}\n\n\nfunction setItem(actionType, item) {\n  return {\n    type: `GET`,\n    subtype: actionType,\n    isFetching: false,\n    item: item\n  }\n}"]},"metadata":{},"sourceType":"module"}